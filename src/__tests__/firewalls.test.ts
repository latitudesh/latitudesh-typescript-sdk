/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { expect, test } from "vitest";
import { Latitudesh } from "../index.js";
import { createTestHTTPClient } from "./testclient.js";

test("Firewalls Get All Firewall Assignments Success", async () => {
  const testHttpClient = createTestHTTPClient(
    "get-all-firewall-assignments-Success",
  );

  const latitudesh = new Latitudesh({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    bearer: process.env["LATITUDESH_BEARER"] ?? "value",
  });

  const result = await latitudesh.firewalls.getAllFirewallAssignments({
    filterServer: "sv_Qk0Ryqv1dW36X",
  });
  expect(result).toBeDefined();
});

test("Firewalls List Firewalls Success", async () => {
  const testHttpClient = createTestHTTPClient("list-firewalls-Success");

  const latitudesh = new Latitudesh({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    bearer: process.env["LATITUDESH_BEARER"] ?? "value",
  });

  const result = await latitudesh.firewalls.list({
    filterProject: "intelligent-marble-lamp",
  });
  expect(result).toBeDefined();
});

test("Firewalls Create Firewall Created", async () => {
  const testHttpClient = createTestHTTPClient("create-firewall-Created");

  const latitudesh = new Latitudesh({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    bearer: process.env["LATITUDESH_BEARER"] ?? "value",
  });

  const result = await latitudesh.firewalls.create({
    data: {
      type: "firewalls",
      attributes: {
        name: "my-firewall",
        project: "heavy-duty-copper-watch",
        rules: [
          {
            from: "192.168.42.73",
            to: "192.168.43.51",
            protocol: "TCP",
            port: "80",
          },
          {
            from: "192.168.1.16",
            to: "192.168.1.30",
            protocol: "TCP",
            port: "80",
          },
          {
            from: "192.168.1.10",
            to: "192.168.1.20",
            protocol: "UDP",
            port: "3000-4000",
          },
        ],
      },
    },
  });
  expect(result).toBeDefined();
});

test("Firewalls Get Firewall Success", async () => {
  const testHttpClient = createTestHTTPClient("get-firewall-Success");

  const latitudesh = new Latitudesh({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    bearer: process.env["LATITUDESH_BEARER"] ?? "value",
  });

  const result = await latitudesh.firewalls.get({
    firewallId: "fw_6A05EdQ1dvKYQ",
  });
  expect(result).toBeDefined();
});

test("Firewalls Update Firewall Success", async () => {
  const testHttpClient = createTestHTTPClient("update-firewall-Success");

  const latitudesh = new Latitudesh({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    bearer: process.env["LATITUDESH_BEARER"] ?? "value",
  });

  const result = await latitudesh.firewalls.update({
    firewallId: "fw_r0MK4O4kDa95w",
    requestBody: {
      data: {
        type: "firewalls",
        attributes: {
          name: "new-name",
          rules: [
            {
              from: "192.168.42.72",
              to: "192.168.43.51",
              protocol: "TCP",
              port: "80",
            },
          ],
        },
      },
    },
  });
  expect(result).toBeDefined();
});

test("Firewalls Get Firewall Assignments Success", async () => {
  const testHttpClient = createTestHTTPClient(
    "get-firewall-assignments-Success",
  );

  const latitudesh = new Latitudesh({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    bearer: process.env["LATITUDESH_BEARER"] ?? "value",
  });

  const result = await latitudesh.firewalls.listAssignments({
    firewallId: "fw_Qk0Ryqv1dW36X",
  });
  expect(result).toBeDefined();
});
