/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import { ClosedEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";
import {
  ProjectInclude,
  ProjectInclude$inboundSchema,
  ProjectInclude$Outbound,
  ProjectInclude$outboundSchema,
} from "./projectinclude.js";
import {
  ServerRegionResourceData,
  ServerRegionResourceData$inboundSchema,
  ServerRegionResourceData$Outbound,
  ServerRegionResourceData$outboundSchema,
} from "./serverregionresourcedata.js";
import {
  TeamInclude,
  TeamInclude$inboundSchema,
  TeamInclude$Outbound,
  TeamInclude$outboundSchema,
} from "./teaminclude.js";

/**
 * `on` - The server is powered ON
 *
 * @remarks
 * `off` - The server is powered OFF
 * `unknown` - The server power status is unknown
 * `ready` - The server is in reinstalling state `ready` and should start `disk_erasing` shortly
 * `disk_erasing` - The server is in reinstalling state `disk_erasing`
 * `failed_disk_erasing` - The server has failed disk erasing in reinstall
 * `deploying` - The server is in the last reinstalling stage and is `deploying`
 * `failed_deployment` - The server has failed deployment in reinstall
 */
export const ServerDataStatus = {
  On: "on",
  Off: "off",
  Unknown: "unknown",
  Ready: "ready",
  DiskErasing: "disk_erasing",
  FailedDiskErasing: "failed_disk_erasing",
  Deploying: "deploying",
  FailedDeployment: "failed_deployment",
} as const;
/**
 * `on` - The server is powered ON
 *
 * @remarks
 * `off` - The server is powered OFF
 * `unknown` - The server power status is unknown
 * `ready` - The server is in reinstalling state `ready` and should start `disk_erasing` shortly
 * `disk_erasing` - The server is in reinstalling state `disk_erasing`
 * `failed_disk_erasing` - The server has failed disk erasing in reinstall
 * `deploying` - The server is in the last reinstalling stage and is `deploying`
 * `failed_deployment` - The server has failed deployment in reinstall
 */
export type ServerDataStatus = ClosedEnum<typeof ServerDataStatus>;

export const IpmiStatus = {
  Unavailable: "Unavailable",
  Intermittent: "Intermittent",
  Normal: "Normal",
} as const;
export type IpmiStatus = ClosedEnum<typeof IpmiStatus>;

export type ServerDataPlan = {
  /**
   * The plan ID
   */
  id?: string | undefined;
  /**
   * The plan name
   */
  name?: string | undefined;
  /**
   * The plan slug
   */
  slug?: string | undefined;
  /**
   * hourly/monthly pricing. Defaults to `hourly`. Appliable for `on_demand` projects only.
   */
  billing?: string | null | undefined;
};

export type ServerDataFeatures = {
  raid?: boolean | undefined;
  sshKeys?: boolean | undefined;
  userData?: boolean | undefined;
};

export type Distro = {
  /**
   * The OS Distro name
   */
  name?: string | undefined;
  /**
   * The OS Distro slug
   */
  slug?: string | undefined;
  /**
   * The OS Distro Series
   */
  series?: string | undefined;
};

export type OperatingSystem = {
  /**
   * The OS name
   */
  name?: string | undefined;
  /**
   * The OS slug
   */
  slug?: string | undefined;
  /**
   * The OS description
   */
  version?: string | undefined;
  features?: ServerDataFeatures | undefined;
  distro?: Distro | undefined;
};

export type ServerDataSpecs = {
  /**
   * CPU model
   */
  cpu?: string | undefined;
  /**
   * Disk quantity and size in GB (e.g. 2 x 500GB)
   */
  disk?: string | undefined;
  /**
   * RAM size in GB
   */
  ram?: string | undefined;
  /**
   * NIC quantity and speed
   */
  nic?: string | undefined;
  /**
   * GPU model and quantity, if present
   */
  gpu?: string | null | undefined;
};

export const ServerDataRole = {
  External: "external",
  Internal: "internal",
  Ipmi: "ipmi",
  Unknown: "unknown",
} as const;
export type ServerDataRole = ClosedEnum<typeof ServerDataRole>;

export type Interface = {
  role?: ServerDataRole | undefined;
  name?: string | undefined;
  macAddress?: string | undefined;
  description?: string | undefined;
};

export type ServerDataAttributes = {
  hostname?: string | undefined;
  /**
   * The server label
   */
  label?: string | undefined;
  /**
   * `on` - The server is powered ON
   *
   * @remarks
   * `off` - The server is powered OFF
   * `unknown` - The server power status is unknown
   * `ready` - The server is in reinstalling state `ready` and should start `disk_erasing` shortly
   * `disk_erasing` - The server is in reinstalling state `disk_erasing`
   * `failed_disk_erasing` - The server has failed disk erasing in reinstall
   * `deploying` - The server is in the last reinstalling stage and is `deploying`
   * `failed_deployment` - The server has failed deployment in reinstall
   */
  status?: ServerDataStatus | undefined;
  ipmiStatus?: IpmiStatus | undefined;
  /**
   * The server role (e.g. Bare Metal)
   */
  role?: string | undefined;
  site?: string | undefined;
  locked?: boolean | undefined;
  rescue?: boolean | undefined;
  primaryIpv4?: string | null | undefined;
  primaryIpv6?: string | null | undefined;
  createdAt?: string | null | undefined;
  scheduledDeletionAt?: string | null | undefined;
  plan?: ServerDataPlan | undefined;
  operatingSystem?: OperatingSystem | undefined;
  region?: ServerRegionResourceData | undefined;
  specs?: ServerDataSpecs | undefined;
  interfaces?: Array<Interface> | undefined;
  project?: ProjectInclude | undefined;
  team?: TeamInclude | undefined;
};

export type ServerData = {
  id?: string | undefined;
  type?: string | undefined;
  attributes?: ServerDataAttributes | undefined;
};

/** @internal */
export const ServerDataStatus$inboundSchema: z.ZodNativeEnum<
  typeof ServerDataStatus
> = z.nativeEnum(ServerDataStatus);
/** @internal */
export const ServerDataStatus$outboundSchema: z.ZodNativeEnum<
  typeof ServerDataStatus
> = ServerDataStatus$inboundSchema;

/** @internal */
export const IpmiStatus$inboundSchema: z.ZodNativeEnum<typeof IpmiStatus> = z
  .nativeEnum(IpmiStatus);
/** @internal */
export const IpmiStatus$outboundSchema: z.ZodNativeEnum<typeof IpmiStatus> =
  IpmiStatus$inboundSchema;

/** @internal */
export const ServerDataPlan$inboundSchema: z.ZodType<
  ServerDataPlan,
  z.ZodTypeDef,
  unknown
> = z.object({
  id: z.string().optional(),
  name: z.string().optional(),
  slug: z.string().optional(),
  billing: z.nullable(z.string()).optional(),
});
/** @internal */
export type ServerDataPlan$Outbound = {
  id?: string | undefined;
  name?: string | undefined;
  slug?: string | undefined;
  billing?: string | null | undefined;
};

/** @internal */
export const ServerDataPlan$outboundSchema: z.ZodType<
  ServerDataPlan$Outbound,
  z.ZodTypeDef,
  ServerDataPlan
> = z.object({
  id: z.string().optional(),
  name: z.string().optional(),
  slug: z.string().optional(),
  billing: z.nullable(z.string()).optional(),
});

export function serverDataPlanToJSON(serverDataPlan: ServerDataPlan): string {
  return JSON.stringify(ServerDataPlan$outboundSchema.parse(serverDataPlan));
}
export function serverDataPlanFromJSON(
  jsonString: string,
): SafeParseResult<ServerDataPlan, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ServerDataPlan$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ServerDataPlan' from JSON`,
  );
}

/** @internal */
export const ServerDataFeatures$inboundSchema: z.ZodType<
  ServerDataFeatures,
  z.ZodTypeDef,
  unknown
> = z.object({
  raid: z.boolean().optional(),
  ssh_keys: z.boolean().optional(),
  user_data: z.boolean().optional(),
}).transform((v) => {
  return remap$(v, {
    "ssh_keys": "sshKeys",
    "user_data": "userData",
  });
});
/** @internal */
export type ServerDataFeatures$Outbound = {
  raid?: boolean | undefined;
  ssh_keys?: boolean | undefined;
  user_data?: boolean | undefined;
};

/** @internal */
export const ServerDataFeatures$outboundSchema: z.ZodType<
  ServerDataFeatures$Outbound,
  z.ZodTypeDef,
  ServerDataFeatures
> = z.object({
  raid: z.boolean().optional(),
  sshKeys: z.boolean().optional(),
  userData: z.boolean().optional(),
}).transform((v) => {
  return remap$(v, {
    sshKeys: "ssh_keys",
    userData: "user_data",
  });
});

export function serverDataFeaturesToJSON(
  serverDataFeatures: ServerDataFeatures,
): string {
  return JSON.stringify(
    ServerDataFeatures$outboundSchema.parse(serverDataFeatures),
  );
}
export function serverDataFeaturesFromJSON(
  jsonString: string,
): SafeParseResult<ServerDataFeatures, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ServerDataFeatures$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ServerDataFeatures' from JSON`,
  );
}

/** @internal */
export const Distro$inboundSchema: z.ZodType<Distro, z.ZodTypeDef, unknown> = z
  .object({
    name: z.string().optional(),
    slug: z.string().optional(),
    series: z.string().optional(),
  });
/** @internal */
export type Distro$Outbound = {
  name?: string | undefined;
  slug?: string | undefined;
  series?: string | undefined;
};

/** @internal */
export const Distro$outboundSchema: z.ZodType<
  Distro$Outbound,
  z.ZodTypeDef,
  Distro
> = z.object({
  name: z.string().optional(),
  slug: z.string().optional(),
  series: z.string().optional(),
});

export function distroToJSON(distro: Distro): string {
  return JSON.stringify(Distro$outboundSchema.parse(distro));
}
export function distroFromJSON(
  jsonString: string,
): SafeParseResult<Distro, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Distro$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Distro' from JSON`,
  );
}

/** @internal */
export const OperatingSystem$inboundSchema: z.ZodType<
  OperatingSystem,
  z.ZodTypeDef,
  unknown
> = z.object({
  name: z.string().optional(),
  slug: z.string().optional(),
  version: z.string().optional(),
  features: z.lazy(() => ServerDataFeatures$inboundSchema).optional(),
  distro: z.lazy(() => Distro$inboundSchema).optional(),
});
/** @internal */
export type OperatingSystem$Outbound = {
  name?: string | undefined;
  slug?: string | undefined;
  version?: string | undefined;
  features?: ServerDataFeatures$Outbound | undefined;
  distro?: Distro$Outbound | undefined;
};

/** @internal */
export const OperatingSystem$outboundSchema: z.ZodType<
  OperatingSystem$Outbound,
  z.ZodTypeDef,
  OperatingSystem
> = z.object({
  name: z.string().optional(),
  slug: z.string().optional(),
  version: z.string().optional(),
  features: z.lazy(() => ServerDataFeatures$outboundSchema).optional(),
  distro: z.lazy(() => Distro$outboundSchema).optional(),
});

export function operatingSystemToJSON(
  operatingSystem: OperatingSystem,
): string {
  return JSON.stringify(OperatingSystem$outboundSchema.parse(operatingSystem));
}
export function operatingSystemFromJSON(
  jsonString: string,
): SafeParseResult<OperatingSystem, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => OperatingSystem$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'OperatingSystem' from JSON`,
  );
}

/** @internal */
export const ServerDataSpecs$inboundSchema: z.ZodType<
  ServerDataSpecs,
  z.ZodTypeDef,
  unknown
> = z.object({
  cpu: z.string().optional(),
  disk: z.string().optional(),
  ram: z.string().optional(),
  nic: z.string().optional(),
  gpu: z.nullable(z.string()).optional(),
});
/** @internal */
export type ServerDataSpecs$Outbound = {
  cpu?: string | undefined;
  disk?: string | undefined;
  ram?: string | undefined;
  nic?: string | undefined;
  gpu?: string | null | undefined;
};

/** @internal */
export const ServerDataSpecs$outboundSchema: z.ZodType<
  ServerDataSpecs$Outbound,
  z.ZodTypeDef,
  ServerDataSpecs
> = z.object({
  cpu: z.string().optional(),
  disk: z.string().optional(),
  ram: z.string().optional(),
  nic: z.string().optional(),
  gpu: z.nullable(z.string()).optional(),
});

export function serverDataSpecsToJSON(
  serverDataSpecs: ServerDataSpecs,
): string {
  return JSON.stringify(ServerDataSpecs$outboundSchema.parse(serverDataSpecs));
}
export function serverDataSpecsFromJSON(
  jsonString: string,
): SafeParseResult<ServerDataSpecs, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ServerDataSpecs$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ServerDataSpecs' from JSON`,
  );
}

/** @internal */
export const ServerDataRole$inboundSchema: z.ZodNativeEnum<
  typeof ServerDataRole
> = z.nativeEnum(ServerDataRole);
/** @internal */
export const ServerDataRole$outboundSchema: z.ZodNativeEnum<
  typeof ServerDataRole
> = ServerDataRole$inboundSchema;

/** @internal */
export const Interface$inboundSchema: z.ZodType<
  Interface,
  z.ZodTypeDef,
  unknown
> = z.object({
  role: ServerDataRole$inboundSchema.optional(),
  name: z.string().optional(),
  mac_address: z.string().optional(),
  description: z.string().optional(),
}).transform((v) => {
  return remap$(v, {
    "mac_address": "macAddress",
  });
});
/** @internal */
export type Interface$Outbound = {
  role?: string | undefined;
  name?: string | undefined;
  mac_address?: string | undefined;
  description?: string | undefined;
};

/** @internal */
export const Interface$outboundSchema: z.ZodType<
  Interface$Outbound,
  z.ZodTypeDef,
  Interface
> = z.object({
  role: ServerDataRole$outboundSchema.optional(),
  name: z.string().optional(),
  macAddress: z.string().optional(),
  description: z.string().optional(),
}).transform((v) => {
  return remap$(v, {
    macAddress: "mac_address",
  });
});

export function interfaceToJSON(value: Interface): string {
  return JSON.stringify(Interface$outboundSchema.parse(value));
}
export function interfaceFromJSON(
  jsonString: string,
): SafeParseResult<Interface, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Interface$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Interface' from JSON`,
  );
}

/** @internal */
export const ServerDataAttributes$inboundSchema: z.ZodType<
  ServerDataAttributes,
  z.ZodTypeDef,
  unknown
> = z.object({
  hostname: z.string().optional(),
  label: z.string().optional(),
  status: ServerDataStatus$inboundSchema.optional(),
  ipmi_status: IpmiStatus$inboundSchema.optional(),
  role: z.string().optional(),
  site: z.string().optional(),
  locked: z.boolean().optional(),
  rescue: z.boolean().optional(),
  primary_ipv4: z.nullable(z.string()).optional(),
  primary_ipv6: z.nullable(z.string()).optional(),
  created_at: z.nullable(z.string()).optional(),
  scheduled_deletion_at: z.nullable(z.string()).optional(),
  plan: z.lazy(() => ServerDataPlan$inboundSchema).optional(),
  operating_system: z.lazy(() => OperatingSystem$inboundSchema).optional(),
  region: ServerRegionResourceData$inboundSchema.optional(),
  specs: z.lazy(() => ServerDataSpecs$inboundSchema).optional(),
  interfaces: z.array(z.lazy(() => Interface$inboundSchema)).optional(),
  project: ProjectInclude$inboundSchema.optional(),
  team: TeamInclude$inboundSchema.optional(),
}).transform((v) => {
  return remap$(v, {
    "ipmi_status": "ipmiStatus",
    "primary_ipv4": "primaryIpv4",
    "primary_ipv6": "primaryIpv6",
    "created_at": "createdAt",
    "scheduled_deletion_at": "scheduledDeletionAt",
    "operating_system": "operatingSystem",
  });
});
/** @internal */
export type ServerDataAttributes$Outbound = {
  hostname?: string | undefined;
  label?: string | undefined;
  status?: string | undefined;
  ipmi_status?: string | undefined;
  role?: string | undefined;
  site?: string | undefined;
  locked?: boolean | undefined;
  rescue?: boolean | undefined;
  primary_ipv4?: string | null | undefined;
  primary_ipv6?: string | null | undefined;
  created_at?: string | null | undefined;
  scheduled_deletion_at?: string | null | undefined;
  plan?: ServerDataPlan$Outbound | undefined;
  operating_system?: OperatingSystem$Outbound | undefined;
  region?: ServerRegionResourceData$Outbound | undefined;
  specs?: ServerDataSpecs$Outbound | undefined;
  interfaces?: Array<Interface$Outbound> | undefined;
  project?: ProjectInclude$Outbound | undefined;
  team?: TeamInclude$Outbound | undefined;
};

/** @internal */
export const ServerDataAttributes$outboundSchema: z.ZodType<
  ServerDataAttributes$Outbound,
  z.ZodTypeDef,
  ServerDataAttributes
> = z.object({
  hostname: z.string().optional(),
  label: z.string().optional(),
  status: ServerDataStatus$outboundSchema.optional(),
  ipmiStatus: IpmiStatus$outboundSchema.optional(),
  role: z.string().optional(),
  site: z.string().optional(),
  locked: z.boolean().optional(),
  rescue: z.boolean().optional(),
  primaryIpv4: z.nullable(z.string()).optional(),
  primaryIpv6: z.nullable(z.string()).optional(),
  createdAt: z.nullable(z.string()).optional(),
  scheduledDeletionAt: z.nullable(z.string()).optional(),
  plan: z.lazy(() => ServerDataPlan$outboundSchema).optional(),
  operatingSystem: z.lazy(() => OperatingSystem$outboundSchema).optional(),
  region: ServerRegionResourceData$outboundSchema.optional(),
  specs: z.lazy(() => ServerDataSpecs$outboundSchema).optional(),
  interfaces: z.array(z.lazy(() => Interface$outboundSchema)).optional(),
  project: ProjectInclude$outboundSchema.optional(),
  team: TeamInclude$outboundSchema.optional(),
}).transform((v) => {
  return remap$(v, {
    ipmiStatus: "ipmi_status",
    primaryIpv4: "primary_ipv4",
    primaryIpv6: "primary_ipv6",
    createdAt: "created_at",
    scheduledDeletionAt: "scheduled_deletion_at",
    operatingSystem: "operating_system",
  });
});

export function serverDataAttributesToJSON(
  serverDataAttributes: ServerDataAttributes,
): string {
  return JSON.stringify(
    ServerDataAttributes$outboundSchema.parse(serverDataAttributes),
  );
}
export function serverDataAttributesFromJSON(
  jsonString: string,
): SafeParseResult<ServerDataAttributes, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ServerDataAttributes$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ServerDataAttributes' from JSON`,
  );
}

/** @internal */
export const ServerData$inboundSchema: z.ZodType<
  ServerData,
  z.ZodTypeDef,
  unknown
> = z.object({
  id: z.string().optional(),
  type: z.string().optional(),
  attributes: z.lazy(() => ServerDataAttributes$inboundSchema).optional(),
});
/** @internal */
export type ServerData$Outbound = {
  id?: string | undefined;
  type?: string | undefined;
  attributes?: ServerDataAttributes$Outbound | undefined;
};

/** @internal */
export const ServerData$outboundSchema: z.ZodType<
  ServerData$Outbound,
  z.ZodTypeDef,
  ServerData
> = z.object({
  id: z.string().optional(),
  type: z.string().optional(),
  attributes: z.lazy(() => ServerDataAttributes$outboundSchema).optional(),
});

export function serverDataToJSON(serverData: ServerData): string {
  return JSON.stringify(ServerData$outboundSchema.parse(serverData));
}
export function serverDataFromJSON(
  jsonString: string,
): SafeParseResult<ServerData, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ServerData$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ServerData' from JSON`,
  );
}
