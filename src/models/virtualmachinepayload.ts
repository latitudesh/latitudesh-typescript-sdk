/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import { ClosedEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";

export const VirtualMachinePayloadType = {
  VirtualMachines: "virtual_machines",
} as const;
export type VirtualMachinePayloadType = ClosedEnum<
  typeof VirtualMachinePayloadType
>;

/**
 * The billing type for the virtual machine. Accepts `hourly` and `monthly` for on demand projects and `yearly` for reserved projects. Defaults to `monthly` for on demand projects and `yearly` for reserved projects.
 */
export const VirtualMachinePayloadBilling = {
  Hourly: "hourly",
  Monthly: "monthly",
  Yearly: "yearly",
} as const;
/**
 * The billing type for the virtual machine. Accepts `hourly` and `monthly` for on demand projects and `yearly` for reserved projects. Defaults to `monthly` for on demand projects and `yearly` for reserved projects.
 */
export type VirtualMachinePayloadBilling = ClosedEnum<
  typeof VirtualMachinePayloadBilling
>;

export type VirtualMachinePayloadAttributes = {
  name?: string | undefined;
  plan?: string | undefined;
  /**
   * The site slug where the virtual machine will be deployed. Defaults to 'DAL' if not specified. To see which sites are available for a given plan, check the 'available' array in the plan's regions.
   */
  site?: string | undefined;
  sshKeys?: Array<string> | undefined;
  project?: string | undefined;
  /**
   * The billing type for the virtual machine. Accepts `hourly` and `monthly` for on demand projects and `yearly` for reserved projects. Defaults to `monthly` for on demand projects and `yearly` for reserved projects.
   */
  billing?: VirtualMachinePayloadBilling | undefined;
};

export type VirtualMachinePayloadData = {
  type?: VirtualMachinePayloadType | undefined;
  attributes?: VirtualMachinePayloadAttributes | undefined;
};

export type VirtualMachinePayload = {
  data?: VirtualMachinePayloadData | undefined;
};

/** @internal */
export const VirtualMachinePayloadType$inboundSchema: z.ZodNativeEnum<
  typeof VirtualMachinePayloadType
> = z.nativeEnum(VirtualMachinePayloadType);
/** @internal */
export const VirtualMachinePayloadType$outboundSchema: z.ZodNativeEnum<
  typeof VirtualMachinePayloadType
> = VirtualMachinePayloadType$inboundSchema;

/** @internal */
export const VirtualMachinePayloadBilling$inboundSchema: z.ZodNativeEnum<
  typeof VirtualMachinePayloadBilling
> = z.nativeEnum(VirtualMachinePayloadBilling);
/** @internal */
export const VirtualMachinePayloadBilling$outboundSchema: z.ZodNativeEnum<
  typeof VirtualMachinePayloadBilling
> = VirtualMachinePayloadBilling$inboundSchema;

/** @internal */
export const VirtualMachinePayloadAttributes$inboundSchema: z.ZodType<
  VirtualMachinePayloadAttributes,
  z.ZodTypeDef,
  unknown
> = z.object({
  name: z.string().default("my-vm"),
  plan: z.string().optional(),
  site: z.string().optional(),
  ssh_keys: z.array(z.string()).optional(),
  project: z.string().default("my-project"),
  billing: VirtualMachinePayloadBilling$inboundSchema.optional(),
}).transform((v) => {
  return remap$(v, {
    "ssh_keys": "sshKeys",
  });
});
/** @internal */
export type VirtualMachinePayloadAttributes$Outbound = {
  name: string;
  plan?: string | undefined;
  site?: string | undefined;
  ssh_keys?: Array<string> | undefined;
  project: string;
  billing?: string | undefined;
};

/** @internal */
export const VirtualMachinePayloadAttributes$outboundSchema: z.ZodType<
  VirtualMachinePayloadAttributes$Outbound,
  z.ZodTypeDef,
  VirtualMachinePayloadAttributes
> = z.object({
  name: z.string().default("my-vm"),
  plan: z.string().optional(),
  site: z.string().optional(),
  sshKeys: z.array(z.string()).optional(),
  project: z.string().default("my-project"),
  billing: VirtualMachinePayloadBilling$outboundSchema.optional(),
}).transform((v) => {
  return remap$(v, {
    sshKeys: "ssh_keys",
  });
});

export function virtualMachinePayloadAttributesToJSON(
  virtualMachinePayloadAttributes: VirtualMachinePayloadAttributes,
): string {
  return JSON.stringify(
    VirtualMachinePayloadAttributes$outboundSchema.parse(
      virtualMachinePayloadAttributes,
    ),
  );
}
export function virtualMachinePayloadAttributesFromJSON(
  jsonString: string,
): SafeParseResult<VirtualMachinePayloadAttributes, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => VirtualMachinePayloadAttributes$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'VirtualMachinePayloadAttributes' from JSON`,
  );
}

/** @internal */
export const VirtualMachinePayloadData$inboundSchema: z.ZodType<
  VirtualMachinePayloadData,
  z.ZodTypeDef,
  unknown
> = z.object({
  type: VirtualMachinePayloadType$inboundSchema.optional(),
  attributes: z.lazy(() => VirtualMachinePayloadAttributes$inboundSchema)
    .optional(),
});
/** @internal */
export type VirtualMachinePayloadData$Outbound = {
  type?: string | undefined;
  attributes?: VirtualMachinePayloadAttributes$Outbound | undefined;
};

/** @internal */
export const VirtualMachinePayloadData$outboundSchema: z.ZodType<
  VirtualMachinePayloadData$Outbound,
  z.ZodTypeDef,
  VirtualMachinePayloadData
> = z.object({
  type: VirtualMachinePayloadType$outboundSchema.optional(),
  attributes: z.lazy(() => VirtualMachinePayloadAttributes$outboundSchema)
    .optional(),
});

export function virtualMachinePayloadDataToJSON(
  virtualMachinePayloadData: VirtualMachinePayloadData,
): string {
  return JSON.stringify(
    VirtualMachinePayloadData$outboundSchema.parse(virtualMachinePayloadData),
  );
}
export function virtualMachinePayloadDataFromJSON(
  jsonString: string,
): SafeParseResult<VirtualMachinePayloadData, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => VirtualMachinePayloadData$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'VirtualMachinePayloadData' from JSON`,
  );
}

/** @internal */
export const VirtualMachinePayload$inboundSchema: z.ZodType<
  VirtualMachinePayload,
  z.ZodTypeDef,
  unknown
> = z.object({
  data: z.lazy(() => VirtualMachinePayloadData$inboundSchema).optional(),
});
/** @internal */
export type VirtualMachinePayload$Outbound = {
  data?: VirtualMachinePayloadData$Outbound | undefined;
};

/** @internal */
export const VirtualMachinePayload$outboundSchema: z.ZodType<
  VirtualMachinePayload$Outbound,
  z.ZodTypeDef,
  VirtualMachinePayload
> = z.object({
  data: z.lazy(() => VirtualMachinePayloadData$outboundSchema).optional(),
});

export function virtualMachinePayloadToJSON(
  virtualMachinePayload: VirtualMachinePayload,
): string {
  return JSON.stringify(
    VirtualMachinePayload$outboundSchema.parse(virtualMachinePayload),
  );
}
export function virtualMachinePayloadFromJSON(
  jsonString: string,
): SafeParseResult<VirtualMachinePayload, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => VirtualMachinePayload$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'VirtualMachinePayload' from JSON`,
  );
}
