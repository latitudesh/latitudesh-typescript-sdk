/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import { ClosedEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";

export const UpdateApiKeyType = {
  ApiKeys: "api_keys",
} as const;
export type UpdateApiKeyType = ClosedEnum<typeof UpdateApiKeyType>;

export type UpdateApiKeyAttributes = {
  /**
   * Name of the API Key
   */
  name?: string | undefined;
  /**
   * Whether the API Key is read-only. Read-only keys can only perform GET requests.
   */
  readOnly?: boolean | undefined;
  /**
   * List of allowed IP addresses or CIDR ranges (e.g., "192.168.1.100", "10.0.0.0/24")
   */
  allowedIps?: Array<string> | undefined;
};

export type UpdateApiKeyData = {
  id?: string | undefined;
  type: UpdateApiKeyType;
  attributes?: UpdateApiKeyAttributes | undefined;
};

export type UpdateApiKey = {
  data?: UpdateApiKeyData | undefined;
};

/** @internal */
export const UpdateApiKeyType$inboundSchema: z.ZodNativeEnum<
  typeof UpdateApiKeyType
> = z.nativeEnum(UpdateApiKeyType);
/** @internal */
export const UpdateApiKeyType$outboundSchema: z.ZodNativeEnum<
  typeof UpdateApiKeyType
> = UpdateApiKeyType$inboundSchema;

/** @internal */
export const UpdateApiKeyAttributes$inboundSchema: z.ZodType<
  UpdateApiKeyAttributes,
  z.ZodTypeDef,
  unknown
> = z.object({
  name: z.string().optional(),
  read_only: z.boolean().optional(),
  allowed_ips: z.array(z.string()).optional(),
}).transform((v) => {
  return remap$(v, {
    "read_only": "readOnly",
    "allowed_ips": "allowedIps",
  });
});
/** @internal */
export type UpdateApiKeyAttributes$Outbound = {
  name?: string | undefined;
  read_only?: boolean | undefined;
  allowed_ips?: Array<string> | undefined;
};

/** @internal */
export const UpdateApiKeyAttributes$outboundSchema: z.ZodType<
  UpdateApiKeyAttributes$Outbound,
  z.ZodTypeDef,
  UpdateApiKeyAttributes
> = z.object({
  name: z.string().optional(),
  readOnly: z.boolean().optional(),
  allowedIps: z.array(z.string()).optional(),
}).transform((v) => {
  return remap$(v, {
    readOnly: "read_only",
    allowedIps: "allowed_ips",
  });
});

export function updateApiKeyAttributesToJSON(
  updateApiKeyAttributes: UpdateApiKeyAttributes,
): string {
  return JSON.stringify(
    UpdateApiKeyAttributes$outboundSchema.parse(updateApiKeyAttributes),
  );
}
export function updateApiKeyAttributesFromJSON(
  jsonString: string,
): SafeParseResult<UpdateApiKeyAttributes, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => UpdateApiKeyAttributes$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'UpdateApiKeyAttributes' from JSON`,
  );
}

/** @internal */
export const UpdateApiKeyData$inboundSchema: z.ZodType<
  UpdateApiKeyData,
  z.ZodTypeDef,
  unknown
> = z.object({
  id: z.string().optional(),
  type: UpdateApiKeyType$inboundSchema,
  attributes: z.lazy(() => UpdateApiKeyAttributes$inboundSchema).optional(),
});
/** @internal */
export type UpdateApiKeyData$Outbound = {
  id?: string | undefined;
  type: string;
  attributes?: UpdateApiKeyAttributes$Outbound | undefined;
};

/** @internal */
export const UpdateApiKeyData$outboundSchema: z.ZodType<
  UpdateApiKeyData$Outbound,
  z.ZodTypeDef,
  UpdateApiKeyData
> = z.object({
  id: z.string().optional(),
  type: UpdateApiKeyType$outboundSchema,
  attributes: z.lazy(() => UpdateApiKeyAttributes$outboundSchema).optional(),
});

export function updateApiKeyDataToJSON(
  updateApiKeyData: UpdateApiKeyData,
): string {
  return JSON.stringify(
    UpdateApiKeyData$outboundSchema.parse(updateApiKeyData),
  );
}
export function updateApiKeyDataFromJSON(
  jsonString: string,
): SafeParseResult<UpdateApiKeyData, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => UpdateApiKeyData$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'UpdateApiKeyData' from JSON`,
  );
}

/** @internal */
export const UpdateApiKey$inboundSchema: z.ZodType<
  UpdateApiKey,
  z.ZodTypeDef,
  unknown
> = z.object({
  data: z.lazy(() => UpdateApiKeyData$inboundSchema).optional(),
});
/** @internal */
export type UpdateApiKey$Outbound = {
  data?: UpdateApiKeyData$Outbound | undefined;
};

/** @internal */
export const UpdateApiKey$outboundSchema: z.ZodType<
  UpdateApiKey$Outbound,
  z.ZodTypeDef,
  UpdateApiKey
> = z.object({
  data: z.lazy(() => UpdateApiKeyData$outboundSchema).optional(),
});

export function updateApiKeyToJSON(updateApiKey: UpdateApiKey): string {
  return JSON.stringify(UpdateApiKey$outboundSchema.parse(updateApiKey));
}
export function updateApiKeyFromJSON(
  jsonString: string,
): SafeParseResult<UpdateApiKey, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => UpdateApiKey$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'UpdateApiKey' from JSON`,
  );
}
