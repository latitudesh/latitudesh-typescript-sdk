/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import { Result as SafeParseResult } from "../types/fp.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";
import {
  TeamInclude,
  TeamInclude$inboundSchema,
  TeamInclude$Outbound,
  TeamInclude$outboundSchema,
} from "./teaminclude.js";

export type UserRole = {
  id?: string | undefined;
  name?: string | undefined;
  createdAt?: Date | undefined;
  updatedAt?: Date | undefined;
};

export type UserAttributes = {
  firstName?: string | undefined;
  lastName?: string | undefined;
  email?: string | undefined;
  authenticationFactorId?: string | undefined;
  role?: UserRole | undefined;
  teams?: Array<TeamInclude> | undefined;
};

export type User = {
  id?: string | undefined;
  attributes?: UserAttributes | undefined;
};

/** @internal */
export const UserRole$inboundSchema: z.ZodType<
  UserRole,
  z.ZodTypeDef,
  unknown
> = z.object({
  id: z.string().optional(),
  name: z.string().optional(),
  created_at: z.string().datetime({ offset: true }).transform(v => new Date(v))
    .optional(),
  updated_at: z.string().datetime({ offset: true }).transform(v => new Date(v))
    .optional(),
}).transform((v) => {
  return remap$(v, {
    "created_at": "createdAt",
    "updated_at": "updatedAt",
  });
});
/** @internal */
export type UserRole$Outbound = {
  id?: string | undefined;
  name?: string | undefined;
  created_at?: string | undefined;
  updated_at?: string | undefined;
};

/** @internal */
export const UserRole$outboundSchema: z.ZodType<
  UserRole$Outbound,
  z.ZodTypeDef,
  UserRole
> = z.object({
  id: z.string().optional(),
  name: z.string().optional(),
  createdAt: z.date().transform(v => v.toISOString()).optional(),
  updatedAt: z.date().transform(v => v.toISOString()).optional(),
}).transform((v) => {
  return remap$(v, {
    createdAt: "created_at",
    updatedAt: "updated_at",
  });
});

export function userRoleToJSON(userRole: UserRole): string {
  return JSON.stringify(UserRole$outboundSchema.parse(userRole));
}
export function userRoleFromJSON(
  jsonString: string,
): SafeParseResult<UserRole, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => UserRole$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'UserRole' from JSON`,
  );
}

/** @internal */
export const UserAttributes$inboundSchema: z.ZodType<
  UserAttributes,
  z.ZodTypeDef,
  unknown
> = z.object({
  first_name: z.string().optional(),
  last_name: z.string().optional(),
  email: z.string().optional(),
  authentication_factor_id: z.string().optional(),
  role: z.lazy(() => UserRole$inboundSchema).optional(),
  teams: z.array(TeamInclude$inboundSchema).optional(),
}).transform((v) => {
  return remap$(v, {
    "first_name": "firstName",
    "last_name": "lastName",
    "authentication_factor_id": "authenticationFactorId",
  });
});
/** @internal */
export type UserAttributes$Outbound = {
  first_name?: string | undefined;
  last_name?: string | undefined;
  email?: string | undefined;
  authentication_factor_id?: string | undefined;
  role?: UserRole$Outbound | undefined;
  teams?: Array<TeamInclude$Outbound> | undefined;
};

/** @internal */
export const UserAttributes$outboundSchema: z.ZodType<
  UserAttributes$Outbound,
  z.ZodTypeDef,
  UserAttributes
> = z.object({
  firstName: z.string().optional(),
  lastName: z.string().optional(),
  email: z.string().optional(),
  authenticationFactorId: z.string().optional(),
  role: z.lazy(() => UserRole$outboundSchema).optional(),
  teams: z.array(TeamInclude$outboundSchema).optional(),
}).transform((v) => {
  return remap$(v, {
    firstName: "first_name",
    lastName: "last_name",
    authenticationFactorId: "authentication_factor_id",
  });
});

export function userAttributesToJSON(userAttributes: UserAttributes): string {
  return JSON.stringify(UserAttributes$outboundSchema.parse(userAttributes));
}
export function userAttributesFromJSON(
  jsonString: string,
): SafeParseResult<UserAttributes, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => UserAttributes$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'UserAttributes' from JSON`,
  );
}

/** @internal */
export const User$inboundSchema: z.ZodType<User, z.ZodTypeDef, unknown> = z
  .object({
    id: z.string().optional(),
    attributes: z.lazy(() => UserAttributes$inboundSchema).optional(),
  });
/** @internal */
export type User$Outbound = {
  id?: string | undefined;
  attributes?: UserAttributes$Outbound | undefined;
};

/** @internal */
export const User$outboundSchema: z.ZodType<User$Outbound, z.ZodTypeDef, User> =
  z.object({
    id: z.string().optional(),
    attributes: z.lazy(() => UserAttributes$outboundSchema).optional(),
  });

export function userToJSON(user: User): string {
  return JSON.stringify(User$outboundSchema.parse(user));
}
export function userFromJSON(
  jsonString: string,
): SafeParseResult<User, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => User$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'User' from JSON`,
  );
}
