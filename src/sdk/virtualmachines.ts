/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { virtualMachinesCreate } from "../funcs/virtualMachinesCreate.js";
import { virtualMachinesCreateVirtualMachineAction } from "../funcs/virtualMachinesCreateVirtualMachineAction.js";
import { virtualMachinesDelete } from "../funcs/virtualMachinesDelete.js";
import { virtualMachinesGet } from "../funcs/virtualMachinesGet.js";
import { virtualMachinesList } from "../funcs/virtualMachinesList.js";
import { virtualMachinesUpdateVirtualMachine } from "../funcs/virtualMachinesUpdateVirtualMachine.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as models from "../models/index.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class VirtualMachines extends ClientSDK {
  /**
   * Create VM
   *
   * @remarks
   * Creates a new Virtual Machine.
   */
  async create(
    request: models.VirtualMachinePayload,
    options?: RequestOptions,
  ): Promise<models.VirtualMachine> {
    return unwrapAsync(virtualMachinesCreate(
      this,
      request,
      options,
    ));
  }

  /**
   * List VMs
   *
   * @remarks
   * Show all Team's Virtual Machines.
   */
  async list(
    request?: operations.IndexVirtualMachineRequest | undefined,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(virtualMachinesList(
      this,
      request,
      options,
    ));
  }

  /**
   * Retrieve VM
   *
   * @remarks
   * Show a Virtual Machine.
   */
  async get(
    request: operations.ShowVirtualMachineRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(virtualMachinesGet(
      this,
      request,
      options,
    ));
  }

  /**
   * Destroy VM
   *
   * @remarks
   * Destroys a Virtual Machine.
   */
  async delete(
    request: operations.DestroyVirtualMachineRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(virtualMachinesDelete(
      this,
      request,
      options,
    ));
  }

  /**
   * Update VM
   *
   * @remarks
   * Updates a Virtual Machine's display name (hostname).
   */
  async updateVirtualMachine(
    request: operations.UpdateVirtualMachineRequest,
    options?: RequestOptions,
  ): Promise<models.VirtualMachine> {
    return unwrapAsync(virtualMachinesUpdateVirtualMachine(
      this,
      request,
      options,
    ));
  }

  /**
   * Run VM power action
   *
   * @remarks
   * Performs a power action on a given virtual machine:
   * - `power_on` - Starts the virtual machine
   * - `power_off` - Stops the virtual machine
   * - `reboot` - Restarts the virtual machine
   */
  async createVirtualMachineAction(
    request: operations.CreateVirtualMachineActionRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(virtualMachinesCreateVirtualMachineAction(
      this,
      request,
      options,
    ));
  }
}
