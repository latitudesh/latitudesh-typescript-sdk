/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { firewallsCreate } from "../funcs/firewallsCreate.js";
import { firewallsDelete } from "../funcs/firewallsDelete.js";
import { firewallsDeleteAssignment } from "../funcs/firewallsDeleteAssignment.js";
import { firewallsGet } from "../funcs/firewallsGet.js";
import { firewallsGetAllFirewallAssignments } from "../funcs/firewallsGetAllFirewallAssignments.js";
import { firewallsList } from "../funcs/firewallsList.js";
import { firewallsListAssignments } from "../funcs/firewallsListAssignments.js";
import { firewallsUpdate } from "../funcs/firewallsUpdate.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as models from "../models/index.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";
import { PageIterator, unwrapResultIterator } from "../types/operations.js";
import { Assignments } from "./assignments.js";

export class Firewalls extends ClientSDK {
  private _assignments?: Assignments;
  get assignments(): Assignments {
    return (this._assignments ??= new Assignments(this._options));
  }

  /**
   * List firewall assignments
   *
   * @remarks
   * Returns a list of all servers assigned to one or more firewalls.
   */
  async getAllFirewallAssignments(
    request?: operations.GetAllFirewallAssignmentsRequest | undefined,
    options?: RequestOptions,
  ): Promise<
    PageIterator<operations.GetAllFirewallAssignmentsResponse, { page: number }>
  > {
    return unwrapResultIterator(firewallsGetAllFirewallAssignments(
      this,
      request,
      options,
    ));
  }

  /**
   * Create firewall
   *
   * @remarks
   * Create a firewall
   */
  async create(
    request: operations.CreateFirewallRequest,
    options?: RequestOptions,
  ): Promise<models.Firewall> {
    return unwrapAsync(firewallsCreate(
      this,
      request,
      options,
    ));
  }

  /**
   * List firewalls
   *
   * @remarks
   * List firewalls
   */
  async list(
    request?: operations.ListFirewallsRequest | undefined,
    options?: RequestOptions,
  ): Promise<PageIterator<operations.ListFirewallsResponse, { page: number }>> {
    return unwrapResultIterator(firewallsList(
      this,
      request,
      options,
    ));
  }

  /**
   * Retrieve firewall
   *
   * @remarks
   * Returns a single firewall by its ID.
   */
  async get(
    request: operations.GetFirewallRequest,
    options?: RequestOptions,
  ): Promise<models.Firewall> {
    return unwrapAsync(firewallsGet(
      this,
      request,
      options,
    ));
  }

  /**
   * Update firewall
   *
   * @remarks
   * Updates a firewall by its ID.
   */
  async update(
    request: operations.UpdateFirewallRequest,
    options?: RequestOptions,
  ): Promise<models.Firewall> {
    return unwrapAsync(firewallsUpdate(
      this,
      request,
      options,
    ));
  }

  /**
   * Delete firewall
   */
  async delete(
    request: operations.DeleteFirewallRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(firewallsDelete(
      this,
      request,
      options,
    ));
  }

  /**
   * Firewall assignments
   *
   * @remarks
   * Returns a list of all servers assigned to a particular firewall.
   */
  async listAssignments(
    request: operations.GetFirewallAssignmentsRequest,
    options?: RequestOptions,
  ): Promise<
    PageIterator<operations.GetFirewallAssignmentsResponse, { page: number }>
  > {
    return unwrapResultIterator(firewallsListAssignments(
      this,
      request,
      options,
    ));
  }

  /**
   * Delete assignment
   *
   * @remarks
   * Removes a server from a firewall by its ID.
   */
  async deleteAssignment(
    request: operations.DeleteFirewallAssignmentRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(firewallsDeleteAssignment(
      this,
      request,
      options,
    ));
  }
}
